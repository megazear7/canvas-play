<!DOCTYPE html>
<html>
<head>
  <title>Hex Counting</title>
  <meta name="description" content="A top down view game">
  <link rel="stylesheet" type="text/css" href="/css/scenes.css">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="/images/icons/favicon.ico">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#FF2F2F">

  <!-- Add to homescreen for Chrome on Android. Fallback for manifest.json -->
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="Canvas Play">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Canvas Play">

  <!-- Homescreen icons -->
  <link rel="apple-touch-icon" href="/images/icons/icon-640x640.png">
  <link rel="apple-touch-icon" sizes="640x640" href="/images/icons/icon-640x640.png">

  <!-- Tile icon for Windows 8 (144x144 + tile color) -->
  <meta name="msapplication-TileImage" content="/images/icons/icon-640x640.png">
  <meta name="msapplication-TileColor" content="#FF2F2F">
  <meta name="msapplication-tap-highlight" content="no">

  <!-- Default twitter cards -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@username">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="canvas-play">
  <meta property="og:image" content="/images/icons/icon-640x640.png" />
  <style>
    h1 {
      margin-top: 70px;
      text-align: left;
      font-size: 40px;
    }

    .map-maker-info {
      padding-left: 20px;
      text-align: left;
      z-index: 9999;
    }

    input, button {
      position: relative;
      z-index: 99909;
    }
  </style>
</head>
<body>
  <cpg-map-maker
    side-length="50"
    grid-size="3"
    dot-size="5"
    hover-dot-size="5"
    drag-dot-size="5"
    line-thickness="4"
    corner-rgba="rgba(0,0,0,1)"
    side-rgba="rgba(0,0,0,1)"
    hover-rgba="rgba(0,150,0,1)"
    drag-rgba="rgba(0,200,0,1)"
    show-origin="false"></cpg-map-maker>
  <script type="module">
    import { CpgMapMaker } from '../index.js';
  </script>

  <div class="map-maker-info">
    <a href="/" style="z-index: 9999">Back to menu</a>
    <h1>Map Maker</h1>
    <input id="gridSize" placeholder="Grid Size" name="gridSize" type="text"></input>
    <button id="download">Download</button>
    <pre>
      <code>
import { CpgMapMaker } from 'canvas-play';

&lt;cpg-map-maker
  side-length="50"
  grid-size="3"
  dot-size="5"
  hover-dot-size="5"
  drag-dot-size="5"
  line-thickness="4"
  corner-rgba="rgba(0,0,0,1)"
  side-rgba="rgba(0,0,0,1)"
  hover-rgba="rgba(0,150,0,1)"
  drag-rgba="rgba(0,200,0,1)"
  show-origin="false">
&lt;/cpg-map-maker>
      </code>
    </pre>
  </div>

  <script>
    const input = document.getElementById('gridSize');
    const downloadButton = document.getElementById('download');
    const mapMaker = document.querySelector('cpg-map-maker');
    
    input.addEventListener('input', () => {
      mapMaker.gridSize = input.value;
      mapMaker.refreshGridSettings();
    });

    downloadButton.addEventListener('click', () => {
      alert('TODO: Download json. For now, check the console.');
      console.log(JSON.stringify(mapMaker.data(), undefined, 4));
    });
  </script>
</body>
</html>
