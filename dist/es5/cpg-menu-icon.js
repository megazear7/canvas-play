(function(a,b){if("function"==typeof define&&define.amd)define(["exports","../utility.js"],b);else if("undefined"!=typeof exports)b(exports,require("../utility.js"));else{var c={exports:{}};b(c.exports,a.utility),a.cpgMenuIcon=c.exports}})(this,function(a,b){"use strict";function c(a){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},c(a)}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b){return b&&("object"===c(b)||"function"==typeof b)?b:h(a)}function h(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&n(a,b)}function j(a){var b="function"==typeof Map?new Map:void 0;return j=function(a){function c(){return l(a,arguments,p(this).constructor)}if(null===a||!m(a))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),n(c,a)},j(a)}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(a){return!1}}function l(){return l=k()?Reflect.construct:function(b,c,d){var e=[null];e.push.apply(e,c);var a=Function.bind.apply(b,e),f=new a;return d&&n(f,d.prototype),f},l.apply(null,arguments)}function m(a){return-1!==Function.toString.call(a).indexOf("[native code]")}function n(a,b){return n=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},n(a,b)}function p(a){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},p(a)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var q=/*#__PURE__*/function(a){function c(){var a;return d(this,c),a=g(this,p(c).call(this)),a.shadow=a.attachShadow({mode:"open"}),a.shadow.innerHTML="\n      <style media=\"screen\">\n        :host {\n          cursor: pointer;\n        }\n      </style>\n      <canvas></canvas>\n    ",a}return i(c,a),f(c,[{key:"connectedCallback",value:function e(){var a=this;this.canvas=this.shadow.querySelector("canvas"),this.context=this.canvas.getContext("2d"),this.mousePosition={x:0,y:0},this.width=this.clientWidth,this.height=this.clientHeight,this.canvas.width=this.width,this.canvas.height=this.height,this.hovering=!1,this.speed=parseFloat(this.dataset.speed)||.2,this.lineCount=parseFloat(this.dataset.lineCount)||3,this.lineThickness=parseFloat(this.dataset.lineThickness)||2,this.lineColor=this.dataset.lineColor||"rgba(0, 0, 0, 1)",this.targetX=parseFloat(this.dataset.targetX||0)*this.width,this.targetY=parseFloat(this.dataset.targetY||.5)*this.height,this.targetDirection=this.dataset.targetDirection||"left",this.initialLines=[];for(var c=0;c<this.lineCount;c++)this.initialLines.push(this.height*((c+1)/(this.lineCount+1)));this.lines=[],this.initialLines.forEach(function(b){a.lines.push({x1:0,y1:b,x2:a.width,y2:b,initial:{x1:0,y1:b,x2:a.width,y2:b}})}),this.canvas.addEventListener("mousemove",function(c){a.mousePosition=(0,b.getMousePos)(a.canvas,c)},!1),this.canvas.addEventListener("mouseenter",function(){return a.hovering=!0}),this.canvas.addEventListener("mouseleave",function(){return a.hovering=!1});var d;d=function b(){requestAnimationFrame(d),a.doAnimate()},d()}},{key:"doAnimate",value:function a(){this.update(),this.draw()}},{key:"update",value:function b(){var a=this;this.lines.forEach(function(b){if("right"===a.targetDirection){var d=a.hovering?d=c.movePoint(b.x2,b.y2,a.targetX,a.targetY,a.speed):d=c.movePoint(b.x2,b.y2,b.initial.x2,b.initial.y2,a.speed);b.x2=d.x,b.y2=d.y}else{var d=a.hovering?c.movePoint(b.x1,b.y1,a.targetX,a.targetY,a.speed):d=c.movePoint(b.x1,b.y1,b.initial.x1,b.initial.y1,a.speed);b.x1=d.x,b.y1=d.y}})}/** @function movePoint
   *  Returns a new point that is directly between point (x1, y1) and (x2, y2)
   *  and has moved the specified percentage between them.
   */},{key:"draw",value:function b(){var a=this;this.context.clearRect(0,0,this.width,this.height),this.lines.forEach(function(b){return a.drawLine(b.x1,b.y1,b.x2,b.y2)})}},{key:"drawLine",value:function e(a,b,c,d){this.context.beginPath(),this.context.lineWidth=this.lineThickness,this.context.strokeStyle=this.lineColor,this.context.lineTo(a,b),this.context.lineTo(c,d),this.context.stroke()}}],[{key:"movePoint",value:function f(a,b,c,d,e){return{x:a+-(a-c)*e,y:b+-(b-d)*e}}}]),c}(j(HTMLElement));a.default=q,customElements.define("cpg-menu-icon",q)});